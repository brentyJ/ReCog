# ReCog Server Dependencies

# Core
flask>=3.0.0
flask-cors>=4.0.0
werkzeug>=3.0.0

# Database
# (sqlite3 is built-in)

# LLM (optional - for extraction)
openai>=1.0.0
anthropic>=0.30.0
tenacity==8.2.3   # Retry with exponential backoff

# File parsing
pypdf>=4.0.0      # PDF text extraction
python-dateutil   # Date parsing
openpyxl>=3.1.0   # Excel file support
python-docx>=1.1.0  # Word document support
extract-msg>=0.48.0 # Outlook MSG file support
icalendar>=5.0.0  # ICS calendar file support
vobject>=0.9.6    # VCF contact file support
markdown>=3.5.0   # Markdown processing

# Enhanced parsing (Phase 1)
phonenumbers>=8.13.0      # E.164 phone normalization (VCF)
charset-normalizer>=3.3.0 # Encoding detection (CSV, faster than chardet)
polars>=0.20.0            # Large CSV files (streaming, lazy evaluation)
python-magic>=0.4.27      # Content-based format detection (libmagic wrapper)
lxml>=5.0.0               # Streaming XML parsing (Apple Health, large files)

# Production
gunicorn>=21.0.0  # WSGI server
flask-limiter>=3.5.0  # Rate limiting
flasgger>=0.9.7  # OpenAPI/Swagger documentation

# Development
python-dotenv     # Environment variables
pytest>=8.0.0     # Testing
pytest-cov>=4.0.0 # Coverage
hypothesis>=6.0.0 # Property-based testing

# Security - Optional (for advanced PII detection)
# Uncomment to enable Presidio ML-based PII detection:
# presidio-analyzer>=2.2.360  # ML-based PII detection
# presidio-anonymizer>=2.2.360  # PII redaction engine
# spacy>=3.7.0  # NLP backbone for Presidio
# Run after installing: python -m spacy download en_core_web_sm
